Database provider for compactmap of custom type